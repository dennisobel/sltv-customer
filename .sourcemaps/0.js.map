{"version":3,"sources":["../../src/pages/subscription/subscription.module.ts","../../src/pages/subscription/subscription.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SubscriptionPage } from './subscription';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SubscriptionPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SubscriptionPage),\r\n  ],\r\n})\r\nexport class SubscriptionPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/subscription/subscription.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, LoadingController, NavParams } from 'ionic-angular';\r\nimport { SubscriptionProvider } from '../../providers/subscription/subscription'\r\nimport { HomePage } from '../home/home';\r\nimport { PLATFORM_WORKER_APP_ID } from '@angular/common/src/platform_id';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-subscription',\r\n  templateUrl: 'subscription.html',\r\n})\r\nexport class SubscriptionPage {\r\n  private subscription:any[]=[];\r\n  private userData:any;\r\n  private phoneNumber:any;\r\n  private userName:any;\r\n\r\n  constructor(\r\n    private subProvider: SubscriptionProvider,\r\n    private loadingCtrl: LoadingController,\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.subscription.push(\r\n      {period:\"Weekly\",amount:\"50.00\",description:\"Unlimited movies/tv series. Only applicable for USB/SoftCopy deliveries\"},\r\n      {period:\"Monthly\",amount:\"150.00\",description:\"Unlimited movies/tv series. Only applicable for USB/SoftCopy deliveries\"}\r\n    )\r\n\r\n    console.log('ionViewDidLoad SubscriptionPage');\r\n    this.userData = this.navParams.get('data')\r\n    this.userName = this.userData.userName\r\n    this.phoneNumber = this.userData.phoneNumber;\r\n    console.log(\"USERDATA:\",this.userData)\r\n  }\r\n\r\n  weekly(){\r\n    const loader: any = this.loadingCtrl.create(\r\n      {\r\n        content: 'Please wait while we log you in...'\r\n      }\r\n    );\r\n    loader.present() \r\n    var today = new Date();\r\n    var newdate = new Date();\r\n    newdate.setDate(today.getDate()+7);\r\n\r\n    const subscriptionData = {\r\n      type: \"weekly\",\r\n      userName: this.userName,\r\n      phoneNumber: this.phoneNumber,\r\n      amount: 50,\r\n      subscriptionTime: today,\r\n      expiryDate: newdate \r\n    }\r\n    console.log(subscriptionData)\r\n    this.subProvider.Subscribe(subscriptionData).then((data:any)=>{\r\n      console.log(\"WEEKLY DATA:\",data)\r\n      if(data.success == true && data.data.status == \"active\"){\r\n        this.navCtrl.setRoot(HomePage,{data}).then(()=>{\r\n          loader.dismiss()\r\n        })\r\n      }\r\n    })   \r\n  }\r\n\r\n  monthly(){\r\n    const loader: any = this.loadingCtrl.create(\r\n      {\r\n        content: 'Please wait while we log you in...'\r\n      }\r\n    );\r\n    loader.present() \r\n\r\n    var today = new Date();\r\n    var newdate = new Date();\r\n    newdate.setDate(today.getDate()+28);\r\n\r\n    const subscriptionData = {\r\n      type: \"monthly\",\r\n      userName: this.userName,\r\n      phoneNumber: this.phoneNumber,\r\n      amount: 10,\r\n      subscriptionTime: today,\r\n      expiryDate: newdate \r\n    }\r\n    console.log(subscriptionData)\r\n    this.subProvider.Subscribe(subscriptionData).then((data:any)=>{\r\n      console.log(\"MONTHLY DATA:\",data)\r\n      if(data.success == true && data.data.status == \"active\"){\r\n        this.navCtrl.setRoot(HomePage,{data}).then(()=>{\r\n          loader.dismiss()\r\n        })\r\n      }\r\n    })   \r\n  }\r\n\r\n  payperitem(){\r\n    \r\n    const loader: any = this.loadingCtrl.create(\r\n      {\r\n        content: 'Please wait while we log you in...'\r\n      }\r\n    );\r\n    loader.present() \r\n    const subscriptionData = {\r\n      type: \"payperitem\",\r\n      userName: this.userName,\r\n      phoneNumber: this.phoneNumber,\r\n      amount: null\r\n    }\r\n\r\n    \r\n    \r\n    console.log(subscriptionData)\r\n    this.subProvider.Subscribe(subscriptionData).then((data:any)=>{\r\n      console.log(\"PAY PER ITEM DATA:\",data)\r\n      if(data.success == true && data.data.status == \"active\"){\r\n        this.navCtrl.setRoot(HomePage,{data}).then(()=>{\r\n          loader.dismiss()\r\n        })\r\n      }\r\n    })  \r\n  }\r\n\r\n  handleSubscription(data){\r\n    var today = new Date();\r\n    var newdate = new Date();\r\n    newdate.setDate(today.getDate()+28);\r\n\r\n    const loader: any = this.loadingCtrl.create(\r\n      {\r\n        content: 'Please wait while we log you in...'\r\n      }\r\n    );\r\n    // loader.present() \r\n\r\n    const subscriptionData:any = {\r\n      subscriptionType : data.period,\r\n      userName: this.userName,\r\n      phoneNumber: this.phoneNumber\r\n    }\r\n\r\n    if(data.type !== \"Pay Per Item\"){\r\n      subscriptionData.subscriptionTime = today,      \r\n      subscriptionData.expiryDate = newdate,\r\n      subscriptionData.amount = data.amount \r\n    }\r\n\r\n    console.log(\"SUBSCRIPTION DATA:\",subscriptionData);\r\n\r\n    this.subProvider.Subscribe(subscriptionData).then((data:any)=>{      \r\n      if(data.success == true && data.data.status == \"active\"){\r\n        this.navCtrl.setRoot(HomePage,{data}).then(()=>{\r\n          // loader.dismiss() \r\n        })\r\n      }\r\n    })     \r\n  }\r\n}\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/pages/subscription/subscription.ts"],"sourceRoot":""}